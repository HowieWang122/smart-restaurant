{"ast":null,"code":"var _jsxFileName = \"/Users/howiewang/Downloads/restaurant-ordering/frontend/src/components/Cart.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useCart } from '../contexts/CartContext';\nimport CheckoutModal from './CheckoutModal';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Cart = ({\n  isOpen,\n  onClose,\n  onOpenRecharge\n}) => {\n  _s();\n  const {\n    cartItems,\n    updateQuantity,\n    removeFromCart,\n    getTotalPrice,\n    clearCart\n  } = useCart();\n  const [showCheckout, setShowCheckout] = useState(false);\n  if (!isOpen) return null;\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 z-40\",\n      onClick: onClose\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed right-0 top-0 h-screen w-96 bg-white shadow-xl z-50 flex flex-col\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 border-b\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-xl font-bold text-gray-800\",\n            children: \"\\u8D2D\\u7269\\u8F66\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 24,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onClose,\n            className: \"text-gray-500 hover:text-gray-700 text-2xl\",\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 25,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 23,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 overflow-y-auto p-4\",\n        children: cartItems.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center text-gray-500 mt-8\",\n          children: \"\\u8D2D\\u7269\\u8F66\\u662F\\u7A7A\\u7684\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: cartItems.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gray-50 p-4 rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between items-start mb-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"font-semibold text-gray-800\",\n                children: item.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 44,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => removeFromCart(item.id),\n                className: \"text-red-500 hover:text-red-700\",\n                children: \"\\u5220\\u9664\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 45,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 43,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-orange-500 font-bold\",\n                children: [\"\\uD83D\\uDC97\", item.price]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 53,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => updateQuantity(item.id, item.quantity - 1),\n                  className: \"w-8 h-8 bg-gray-200 hover:bg-gray-300 rounded-full\",\n                  children: \"-\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 55,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"w-8 text-center\",\n                  children: item.quantity\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 61,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => updateQuantity(item.id, item.quantity + 1),\n                  className: \"w-8 h-8 bg-gray-200 hover:bg-gray-300 rounded-full\",\n                  children: \"+\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 62,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 54,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 19\n            }, this)]\n          }, item.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }, this), cartItems.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"border-t p-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-lg font-semibold\",\n            children: \"\\u603B\\u8BA1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-xl font-bold text-orange-500\",\n            children: [\"\\uD83D\\uDC97\", getTotalPrice()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowCheckout(true),\n          className: \"w-full bg-orange-500 hover:bg-orange-600 text-white font-bold py-3 px-4 rounded-lg transition-colors duration-200\",\n          children: \"\\u53BB\\u7ED3\\u7B97\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CheckoutModal, {\n      isOpen: showCheckout,\n      onClose: () => setShowCheckout(false),\n      onSuccess: () => {\n        setShowCheckout(false);\n        onClose();\n        clearCart();\n      },\n      onOpenRecharge: () => {\n        setShowCheckout(false);\n        onClose();\n        onOpenRecharge();\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(Cart, \"iiZL0ELyLn+AYRooU9Em1rLTEYw=\", false, function () {\n  return [useCart];\n});\n_c = Cart;\nexport default Cart;\nvar _c;\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"names":["React","useState","useCart","CheckoutModal","jsxDEV","_jsxDEV","Fragment","_Fragment","Cart","isOpen","onClose","onOpenRecharge","_s","cartItems","updateQuantity","removeFromCart","getTotalPrice","clearCart","showCheckout","setShowCheckout","children","className","onClick","fileName","_jsxFileName","lineNumber","columnNumber","length","map","item","name","id","price","quantity","onSuccess","_c","$RefreshReg$"],"sources":["/Users/howiewang/Downloads/restaurant-ordering/frontend/src/components/Cart.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useCart } from '../contexts/CartContext';\nimport CheckoutModal from './CheckoutModal';\nimport { CustomerInfo } from '../types';\n\ninterface CartProps {\n  isOpen: boolean;\n  onClose: () => void;\n  onOpenRecharge: (customerInfo?: CustomerInfo, neededAmount?: number) => void;\n}\n\nconst Cart: React.FC<CartProps> = ({ isOpen, onClose, onOpenRecharge }) => {\n  const { cartItems, updateQuantity, removeFromCart, getTotalPrice, clearCart } = useCart();\n  const [showCheckout, setShowCheckout] = useState(false);\n\n  if (!isOpen) return null;\n\n  return (\n    <>\n      <div className=\"fixed inset-0 bg-black bg-opacity-50 z-40\" onClick={onClose} />\n      <div className=\"fixed right-0 top-0 h-screen w-96 bg-white shadow-xl z-50 flex flex-col\">\n        <div className=\"p-4 border-b\">\n          <div className=\"flex justify-between items-center\">\n            <h2 className=\"text-xl font-bold text-gray-800\">è´­ç‰©è½¦</h2>\n            <button\n              onClick={onClose}\n              className=\"text-gray-500 hover:text-gray-700 text-2xl\"\n            >\n              Ã—\n            </button>\n          </div>\n        </div>\n\n        <div className=\"flex-1 overflow-y-auto p-4\">\n          {cartItems.length === 0 ? (\n            <div className=\"text-center text-gray-500 mt-8\">\n              è´­ç‰©è½¦æ˜¯ç©ºçš„\n            </div>\n          ) : (\n            <div className=\"space-y-4\">\n              {cartItems.map((item) => (\n                <div key={item.id} className=\"bg-gray-50 p-4 rounded-lg\">\n                  <div className=\"flex justify-between items-start mb-2\">\n                    <h4 className=\"font-semibold text-gray-800\">{item.name}</h4>\n                    <button\n                      onClick={() => removeFromCart(item.id)}\n                      className=\"text-red-500 hover:text-red-700\"\n                    >\n                      åˆ é™¤\n                    </button>\n                  </div>\n                  <div className=\"flex justify-between items-center\">\n                    <div className=\"text-orange-500 font-bold\">ðŸ’—{item.price}</div>\n                    <div className=\"flex items-center space-x-2\">\n                      <button\n                        onClick={() => updateQuantity(item.id, item.quantity - 1)}\n                        className=\"w-8 h-8 bg-gray-200 hover:bg-gray-300 rounded-full\"\n                      >\n                        -\n                      </button>\n                      <span className=\"w-8 text-center\">{item.quantity}</span>\n                      <button\n                        onClick={() => updateQuantity(item.id, item.quantity + 1)}\n                        className=\"w-8 h-8 bg-gray-200 hover:bg-gray-300 rounded-full\"\n                      >\n                        +\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n\n        {cartItems.length > 0 && (\n          <div className=\"border-t p-4\">\n            <div className=\"flex justify-between items-center mb-4\">\n              <span className=\"text-lg font-semibold\">æ€»è®¡</span>\n              <span className=\"text-xl font-bold text-orange-500\">\n                ðŸ’—{getTotalPrice()}\n              </span>\n            </div>\n            <button\n              onClick={() => setShowCheckout(true)}\n              className=\"w-full bg-orange-500 hover:bg-orange-600 text-white font-bold py-3 px-4 rounded-lg transition-colors duration-200\"\n            >\n              åŽ»ç»“ç®—\n            </button>\n          </div>\n        )}\n      </div>\n\n      <CheckoutModal\n        isOpen={showCheckout}\n        onClose={() => setShowCheckout(false)}\n        onSuccess={() => {\n          setShowCheckout(false);\n          onClose();\n          clearCart();\n        }}\n        onOpenRecharge={() => {\n          setShowCheckout(false);\n          onClose();\n          onOpenRecharge();\n        }}\n      />\n    </>\n  );\n};\n\nexport default Cart; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}