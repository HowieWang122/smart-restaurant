{"ast":null,"code":"import React,{useState}from'react';import{useCart}from'../contexts/CartContext';import CheckoutModal from'./CheckoutModal';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Cart=_ref=>{let{isOpen,onClose,onOpenRecharge}=_ref;const{cartItems,updateQuantity,removeFromCart,getTotalPrice,clearCart}=useCart();const[showCheckout,setShowCheckout]=useState(false);if(!isOpen)return null;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 z-40\",onClick:onClose}),/*#__PURE__*/_jsxs(\"div\",{className:\"fixed right-0 top-0 h-screen w-96 bg-white shadow-xl z-50 flex flex-col\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-4 border-b\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-gray-800\",children:\"\\u8D2D\\u7269\\u8F66\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"text-gray-500 hover:text-gray-700 text-2xl\",children:\"\\xD7\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 overflow-y-auto p-4\",children:cartItems.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"text-center text-gray-500 mt-8\",children:\"\\u8D2D\\u7269\\u8F66\\u662F\\u7A7A\\u7684\"}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:cartItems.map(item=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start mb-2\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold text-gray-800\",children:item.name}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>removeFromCart(item.id),className:\"text-red-500 hover:text-red-700\",children:\"\\u5220\\u9664\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-orange-500 font-bold\",children:[\"\\uD83D\\uDC97\",item.price]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>updateQuantity(item.id,item.quantity-1),className:\"w-8 h-8 bg-gray-200 hover:bg-gray-300 rounded-full\",children:\"-\"}),/*#__PURE__*/_jsx(\"span\",{className:\"w-8 text-center\",children:item.quantity}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>updateQuantity(item.id,item.quantity+1),className:\"w-8 h-8 bg-gray-200 hover:bg-gray-300 rounded-full\",children:\"+\"})]})]})]},item.id))})}),cartItems.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"border-t p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-lg font-semibold\",children:\"\\u603B\\u8BA1\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-xl font-bold text-orange-500\",children:[\"\\uD83D\\uDC97\",getTotalPrice()]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowCheckout(true),className:\"w-full bg-orange-500 hover:bg-orange-600 text-white font-bold py-3 px-4 rounded-lg transition-colors duration-200\",children:\"\\u53BB\\u7ED3\\u7B97\"})]})]}),/*#__PURE__*/_jsx(CheckoutModal,{isOpen:showCheckout,onClose:()=>setShowCheckout(false),onSuccess:()=>{setShowCheckout(false);onClose();clearCart();},onOpenRecharge:()=>{setShowCheckout(false);onClose();onOpenRecharge();}})]});};export default Cart;","map":{"version":3,"names":["React","useState","useCart","CheckoutModal","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Cart","_ref","isOpen","onClose","onOpenRecharge","cartItems","updateQuantity","removeFromCart","getTotalPrice","clearCart","showCheckout","setShowCheckout","children","className","onClick","length","map","item","name","id","price","quantity","onSuccess"],"sources":["/Users/howiewang/Downloads/progrem/restaurant-ordering/frontend/src/components/Cart.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useCart } from '../contexts/CartContext';\nimport CheckoutModal from './CheckoutModal';\n\ninterface CartProps {\n  isOpen: boolean;\n  onClose: () => void;\n  onOpenRecharge: () => void;\n}\n\nconst Cart: React.FC<CartProps> = ({ isOpen, onClose, onOpenRecharge }) => {\n  const { cartItems, updateQuantity, removeFromCart, getTotalPrice, clearCart } = useCart();\n  const [showCheckout, setShowCheckout] = useState(false);\n\n  if (!isOpen) return null;\n\n  return (\n    <>\n      <div className=\"fixed inset-0 bg-black bg-opacity-50 z-40\" onClick={onClose} />\n      <div className=\"fixed right-0 top-0 h-screen w-96 bg-white shadow-xl z-50 flex flex-col\">\n        <div className=\"p-4 border-b\">\n          <div className=\"flex justify-between items-center\">\n            <h2 className=\"text-xl font-bold text-gray-800\">è´­ç‰©è½¦</h2>\n            <button\n              onClick={onClose}\n              className=\"text-gray-500 hover:text-gray-700 text-2xl\"\n            >\n              Ã—\n            </button>\n          </div>\n        </div>\n\n        <div className=\"flex-1 overflow-y-auto p-4\">\n          {cartItems.length === 0 ? (\n            <div className=\"text-center text-gray-500 mt-8\">\n              è´­ç‰©è½¦æ˜¯ç©ºçš„\n            </div>\n          ) : (\n            <div className=\"space-y-4\">\n              {cartItems.map((item) => (\n                <div key={item.id} className=\"bg-gray-50 p-4 rounded-lg\">\n                  <div className=\"flex justify-between items-start mb-2\">\n                    <h4 className=\"font-semibold text-gray-800\">{item.name}</h4>\n                    <button\n                      onClick={() => removeFromCart(item.id)}\n                      className=\"text-red-500 hover:text-red-700\"\n                    >\n                      åˆ é™¤\n                    </button>\n                  </div>\n                  <div className=\"flex justify-between items-center\">\n                    <div className=\"text-orange-500 font-bold\">ðŸ’—{item.price}</div>\n                    <div className=\"flex items-center space-x-2\">\n                      <button\n                        onClick={() => updateQuantity(item.id, item.quantity - 1)}\n                        className=\"w-8 h-8 bg-gray-200 hover:bg-gray-300 rounded-full\"\n                      >\n                        -\n                      </button>\n                      <span className=\"w-8 text-center\">{item.quantity}</span>\n                      <button\n                        onClick={() => updateQuantity(item.id, item.quantity + 1)}\n                        className=\"w-8 h-8 bg-gray-200 hover:bg-gray-300 rounded-full\"\n                      >\n                        +\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n\n        {cartItems.length > 0 && (\n          <div className=\"border-t p-4\">\n            <div className=\"flex justify-between items-center mb-4\">\n              <span className=\"text-lg font-semibold\">æ€»è®¡</span>\n              <span className=\"text-xl font-bold text-orange-500\">\n                ðŸ’—{getTotalPrice()}\n              </span>\n            </div>\n            <button\n              onClick={() => setShowCheckout(true)}\n              className=\"w-full bg-orange-500 hover:bg-orange-600 text-white font-bold py-3 px-4 rounded-lg transition-colors duration-200\"\n            >\n              åŽ»ç»“ç®—\n            </button>\n          </div>\n        )}\n      </div>\n\n      <CheckoutModal\n        isOpen={showCheckout}\n        onClose={() => setShowCheckout(false)}\n        onSuccess={() => {\n          setShowCheckout(false);\n          onClose();\n          clearCart();\n        }}\n        onOpenRecharge={() => {\n          setShowCheckout(false);\n          onClose();\n          onOpenRecharge();\n        }}\n      />\n    </>\n  );\n};\n\nexport default Cart; "],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,OAAO,KAAQ,yBAAyB,CACjD,MAAO,CAAAC,aAAa,KAAM,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAQ5C,KAAM,CAAAC,IAAyB,CAAGC,IAAA,EAAyC,IAAxC,CAAEC,MAAM,CAAEC,OAAO,CAAEC,cAAe,CAAC,CAAAH,IAAA,CACpE,KAAM,CAAEI,SAAS,CAAEC,cAAc,CAAEC,cAAc,CAAEC,aAAa,CAAEC,SAAU,CAAC,CAAGjB,OAAO,CAAC,CAAC,CACzF,KAAM,CAACkB,YAAY,CAAEC,eAAe,CAAC,CAAGpB,QAAQ,CAAC,KAAK,CAAC,CAEvD,GAAI,CAACW,MAAM,CAAE,MAAO,KAAI,CAExB,mBACEL,KAAA,CAAAE,SAAA,EAAAa,QAAA,eACEjB,IAAA,QAAKkB,SAAS,CAAC,2CAA2C,CAACC,OAAO,CAAEX,OAAQ,CAAE,CAAC,cAC/EN,KAAA,QAAKgB,SAAS,CAAC,yEAAyE,CAAAD,QAAA,eACtFjB,IAAA,QAAKkB,SAAS,CAAC,cAAc,CAAAD,QAAA,cAC3Bf,KAAA,QAAKgB,SAAS,CAAC,mCAAmC,CAAAD,QAAA,eAChDjB,IAAA,OAAIkB,SAAS,CAAC,iCAAiC,CAAAD,QAAA,CAAC,oBAAG,CAAI,CAAC,cACxDjB,IAAA,WACEmB,OAAO,CAAEX,OAAQ,CACjBU,SAAS,CAAC,4CAA4C,CAAAD,QAAA,CACvD,MAED,CAAQ,CAAC,EACN,CAAC,CACH,CAAC,cAENjB,IAAA,QAAKkB,SAAS,CAAC,4BAA4B,CAAAD,QAAA,CACxCP,SAAS,CAACU,MAAM,GAAK,CAAC,cACrBpB,IAAA,QAAKkB,SAAS,CAAC,gCAAgC,CAAAD,QAAA,CAAC,sCAEhD,CAAK,CAAC,cAENjB,IAAA,QAAKkB,SAAS,CAAC,WAAW,CAAAD,QAAA,CACvBP,SAAS,CAACW,GAAG,CAAEC,IAAI,eAClBpB,KAAA,QAAmBgB,SAAS,CAAC,2BAA2B,CAAAD,QAAA,eACtDf,KAAA,QAAKgB,SAAS,CAAC,uCAAuC,CAAAD,QAAA,eACpDjB,IAAA,OAAIkB,SAAS,CAAC,6BAA6B,CAAAD,QAAA,CAAEK,IAAI,CAACC,IAAI,CAAK,CAAC,cAC5DvB,IAAA,WACEmB,OAAO,CAAEA,CAAA,GAAMP,cAAc,CAACU,IAAI,CAACE,EAAE,CAAE,CACvCN,SAAS,CAAC,iCAAiC,CAAAD,QAAA,CAC5C,cAED,CAAQ,CAAC,EACN,CAAC,cACNf,KAAA,QAAKgB,SAAS,CAAC,mCAAmC,CAAAD,QAAA,eAChDf,KAAA,QAAKgB,SAAS,CAAC,2BAA2B,CAAAD,QAAA,EAAC,cAAE,CAACK,IAAI,CAACG,KAAK,EAAM,CAAC,cAC/DvB,KAAA,QAAKgB,SAAS,CAAC,6BAA6B,CAAAD,QAAA,eAC1CjB,IAAA,WACEmB,OAAO,CAAEA,CAAA,GAAMR,cAAc,CAACW,IAAI,CAACE,EAAE,CAAEF,IAAI,CAACI,QAAQ,CAAG,CAAC,CAAE,CAC1DR,SAAS,CAAC,oDAAoD,CAAAD,QAAA,CAC/D,GAED,CAAQ,CAAC,cACTjB,IAAA,SAAMkB,SAAS,CAAC,iBAAiB,CAAAD,QAAA,CAAEK,IAAI,CAACI,QAAQ,CAAO,CAAC,cACxD1B,IAAA,WACEmB,OAAO,CAAEA,CAAA,GAAMR,cAAc,CAACW,IAAI,CAACE,EAAE,CAAEF,IAAI,CAACI,QAAQ,CAAG,CAAC,CAAE,CAC1DR,SAAS,CAAC,oDAAoD,CAAAD,QAAA,CAC/D,GAED,CAAQ,CAAC,EACN,CAAC,EACH,CAAC,GA3BEK,IAAI,CAACE,EA4BV,CACN,CAAC,CACC,CACN,CACE,CAAC,CAELd,SAAS,CAACU,MAAM,CAAG,CAAC,eACnBlB,KAAA,QAAKgB,SAAS,CAAC,cAAc,CAAAD,QAAA,eAC3Bf,KAAA,QAAKgB,SAAS,CAAC,wCAAwC,CAAAD,QAAA,eACrDjB,IAAA,SAAMkB,SAAS,CAAC,uBAAuB,CAAAD,QAAA,CAAC,cAAE,CAAM,CAAC,cACjDf,KAAA,SAAMgB,SAAS,CAAC,mCAAmC,CAAAD,QAAA,EAAC,cAChD,CAACJ,aAAa,CAAC,CAAC,EACd,CAAC,EACJ,CAAC,cACNb,IAAA,WACEmB,OAAO,CAAEA,CAAA,GAAMH,eAAe,CAAC,IAAI,CAAE,CACrCE,SAAS,CAAC,mHAAmH,CAAAD,QAAA,CAC9H,oBAED,CAAQ,CAAC,EACN,CACN,EACE,CAAC,cAENjB,IAAA,CAACF,aAAa,EACZS,MAAM,CAAEQ,YAAa,CACrBP,OAAO,CAAEA,CAAA,GAAMQ,eAAe,CAAC,KAAK,CAAE,CACtCW,SAAS,CAAEA,CAAA,GAAM,CACfX,eAAe,CAAC,KAAK,CAAC,CACtBR,OAAO,CAAC,CAAC,CACTM,SAAS,CAAC,CAAC,CACb,CAAE,CACFL,cAAc,CAAEA,CAAA,GAAM,CACpBO,eAAe,CAAC,KAAK,CAAC,CACtBR,OAAO,CAAC,CAAC,CACTC,cAAc,CAAC,CAAC,CAClB,CAAE,CACH,CAAC,EACF,CAAC,CAEP,CAAC,CAED,cAAe,CAAAJ,IAAI","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}