{"ast":null,"code":"// API configuration\nconst getApiUrl = () => {\n  // 如果设置了环境变量，使用环境变量的值\n  if (process.env.REACT_APP_API_URL) {\n    return process.env.REACT_APP_API_URL;\n  }\n\n  // 获取当前访问的主机名\n  const hostname = window.location.hostname;\n\n  // 如果是通过 localtunnel 访问\n  if (hostname.includes('loca.lt')) {\n    return 'https://restaurant-api.loca.lt';\n  }\n\n  // 如果是通过 ngrok 访问\n  if (hostname.includes('ngrok')) {\n    return `https://${hostname.replace('-3000', '-3001')}`;\n  }\n\n  // 如果是localhost访问\n  if (hostname === 'localhost' || hostname === '127.0.0.1') {\n    return 'http://localhost:3001';\n  }\n\n  // 如果是局域网IP访问，使用相同的IP\n  if (hostname.match(/^\\d+\\.\\d+\\.\\d+\\.\\d+$/)) {\n    return `http://${hostname}:3001`;\n  }\n\n  // 默认fallback到localhost\n  return 'http://localhost:3001';\n};\nconst config = {\n  API_URL: getApiUrl()\n};\nconsole.log('🌐 API配置:', config.API_URL);\nexport default config;","map":{"version":3,"names":["getApiUrl","process","env","REACT_APP_API_URL","hostname","window","location","includes","replace","match","config","API_URL","console","log"],"sources":["/Users/howiewang/Downloads/progrem/restaurant-ordering/frontend/src/config.js"],"sourcesContent":["// API configuration\nconst getApiUrl = () => {\n  // 如果设置了环境变量，使用环境变量的值\n  if (process.env.REACT_APP_API_URL) {\n    return process.env.REACT_APP_API_URL;\n  }\n\n  // 获取当前访问的主机名\n  const hostname = window.location.hostname;\n  \n  // 如果是通过 localtunnel 访问\n  if (hostname.includes('loca.lt')) {\n    return 'https://restaurant-api.loca.lt';\n  }\n  \n  // 如果是通过 ngrok 访问\n  if (hostname.includes('ngrok')) {\n    return `https://${hostname.replace('-3000', '-3001')}`;\n  }\n  \n  // 如果是localhost访问\n  if (hostname === 'localhost' || hostname === '127.0.0.1') {\n    return 'http://localhost:3001';\n  }\n  \n  // 如果是局域网IP访问，使用相同的IP\n  if (hostname.match(/^\\d+\\.\\d+\\.\\d+\\.\\d+$/)) {\n    return `http://${hostname}:3001`;\n  }\n  \n  // 默认fallback到localhost\n  return 'http://localhost:3001';\n};\n\nconst config = {\n  API_URL: getApiUrl()\n};\n\nconsole.log('🌐 API配置:', config.API_URL);\n\nexport default config; "],"mappings":"AAAA;AACA,MAAMA,SAAS,GAAGA,CAAA,KAAM;EACtB;EACA,IAAIC,OAAO,CAACC,GAAG,CAACC,iBAAiB,EAAE;IACjC,OAAOF,OAAO,CAACC,GAAG,CAACC,iBAAiB;EACtC;;EAEA;EACA,MAAMC,QAAQ,GAAGC,MAAM,CAACC,QAAQ,CAACF,QAAQ;;EAEzC;EACA,IAAIA,QAAQ,CAACG,QAAQ,CAAC,SAAS,CAAC,EAAE;IAChC,OAAO,gCAAgC;EACzC;;EAEA;EACA,IAAIH,QAAQ,CAACG,QAAQ,CAAC,OAAO,CAAC,EAAE;IAC9B,OAAO,WAAWH,QAAQ,CAACI,OAAO,CAAC,OAAO,EAAE,OAAO,CAAC,EAAE;EACxD;;EAEA;EACA,IAAIJ,QAAQ,KAAK,WAAW,IAAIA,QAAQ,KAAK,WAAW,EAAE;IACxD,OAAO,uBAAuB;EAChC;;EAEA;EACA,IAAIA,QAAQ,CAACK,KAAK,CAAC,sBAAsB,CAAC,EAAE;IAC1C,OAAO,UAAUL,QAAQ,OAAO;EAClC;;EAEA;EACA,OAAO,uBAAuB;AAChC,CAAC;AAED,MAAMM,MAAM,GAAG;EACbC,OAAO,EAAEX,SAAS,CAAC;AACrB,CAAC;AAEDY,OAAO,CAACC,GAAG,CAAC,WAAW,EAAEH,MAAM,CAACC,OAAO,CAAC;AAExC,eAAeD,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}